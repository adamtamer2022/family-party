<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ø®Ø±ÙŠØ·Ø© Ù…Ù‚Ø§Ø¹Ø¯ - Ø¹Ø±Ø¶</title>
<style>
  body { 
    margin: 0;
    background: #111; 
    color: white; 
    font-family: sans-serif; 
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    height: 100vh; 
  }

  h2 {
    margin-top: 20px;
  }

  #hall {
    flex-grow: 1; 
    display: flex; 
    flex-direction: column; 
    justify-content: center;
    align-items: center;
  }

  .screen {
    width: 400px;
    height: 60px;
    background: #222;
    border: 3px solid #444;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    font-weight: bold;
    color: #ccc;
    margin-bottom: 60px;
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.1);
  }

  .row { 
    margin: 10px; 
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .seat {
    width: 50px; 
    height: 50px; 
    margin: 5px;
    display: inline-flex; 
    background: green;
    border-radius: 5px;
    transition: 0.3s;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: bold;
    color: white;
  }

  .seat.booked { 
    background: red; 
  }

  .seat.special { 
    background: gold; 
    color: black;
  }

  .seat.special.booked { 
    background: #b8860b; 
    color: white;
  }

  .legend {
    display: flex;
    gap: 20px;
    margin-bottom: 20px;
    font-size: 14px;
  }

  .legend-item {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .legend-color {
    width: 20px;
    height: 20px;
    border-radius: 3px;
  }

  .legend-green { background: green; }
  .legend-red { background: red; }
  .legend-gold { background: gold; }
  
  .logo {
    width: 80px;
    height: 80px;
    margin-left: 10px;
  }

  /* ØªØ±ØªÙŠØ¨ Ø®Ø§Øµ Ù„Ù„ØµÙÙˆÙ */
  .seat-container {
    display: grid;
    grid-template-columns: repeat(6, 60px);
    grid-template-rows: repeat(2, 60px);
    gap: 5px;
    justify-content: center;
    align-items: center;
  }
  
  /* ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ù…Ù‚Ø§Ø¹Ø¯ ÙÙŠ Ø§Ù„Ø´Ø¨ÙƒØ© - Ù…Ø±ØªØ¨Ø© Ù…Ù† A1 Ø¥Ù„Ù‰ A7 */
  .seat-A1 { grid-column: 1; grid-row: 1; }
  .seat-A2 { grid-column: 1; grid-row: 2; }
  .seat-A3 { grid-column: 2; grid-row: 2; }
  .seat-A4 { grid-column: 3; grid-row: 2; }
  .seat-A5 { grid-column: 4; grid-row: 2; }
  .seat-A6 { grid-column: 5; grid-row: 2; }
  .seat-A7 { grid-column: 5; grid-row: 1; }
</style>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js"></script>
</head>
<body>

<h2>ğŸ¬ Ø®Ø±ÙŠØ·Ø© Ù…Ù‚Ø§Ø¹Ø¯ Ø§Ù„Ø­ÙÙ„Ø©</h2>
<img src="https://github.com/adamtamer2022/image/blob/main/3.png?raw=true" alt="Logo" class="logo">

<div class="legend">
  <div class="legend-item">
    <div class="legend-color legend-green"></div>
    <span>Ù…ØªØ§Ø­</span>
  </div>
  <div class="legend-item">
    <div class="legend-color legend-red"></div>
    <span>Ù…Ø­Ø¬ÙˆØ²</span>
  </div>
  <div class="legend-item">
    <div class="legend-color legend-gold"></div>
    <span>Ù…Ù‚Ø¹Ø¯ Ø®Ø§Øµ</span>
  </div>
</div>

<div id="hall">
  <div class="screen">ğŸ¬ Ø§Ù„Ø´Ø§Ø´Ø© ğŸ¬</div>
</div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
  import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAVzRmVlUcyXsg25KM26_wJs-QMuF52k2o",
    authDomain: "frist-3a4ee.firebaseapp.com",
    databaseURL: "https://frist-3a4ee-default-rtdb.firebaseio.com",
    projectId: "frist-3a4ee",
    storageBucket: "frist-3a4ee.appspot.com",
    messagingSenderId: "1098758189245",
    appId: "1:1098758189245:web:dddd9e453767b7629387d4",
    measurementId: "G-K9JNSJPXXN"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  const hall = document.getElementById("hall");

  // Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø§ÙˆÙŠØ© Ù„Ù„Ù…Ù‚Ø§Ø¹Ø¯ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Grid
  const seatsContainer = document.createElement("div");
  seatsContainer.className = "seat-container";

  // Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‚Ø§Ø¹Ø¯ - Ù…Ø±ØªØ¨Ø© Ù…Ù† A1 Ø¥Ù„Ù‰ A7
  const seatA1 = document.createElement("div");
  seatA1.className = "seat seat-A1";
  seatA1.setAttribute("id", "A1");
  seatA1.textContent = "A1";

  const seatA2 = document.createElement("div");
  seatA2.className = "seat seat-A2";
  seatA2.setAttribute("id", "A2");
  seatA2.textContent = "A2";

  const seatA3 = document.createElement("div");
  seatA3.className = "seat seat-A3";
  seatA3.setAttribute("id", "A3");
  seatA3.textContent = "A3";

  const seatA4 = document.createElement("div");
  seatA4.className = "seat seat-A4";
  seatA4.setAttribute("id", "A4");
  seatA4.textContent = "A4";

  const seatA5 = document.createElement("div");
  seatA5.className = "seat seat-A5";
  seatA5.setAttribute("id", "A5");
  seatA5.textContent = "A5";

  const seatA6 = document.createElement("div");
  seatA6.className = "seat seat-A6";
  seatA6.setAttribute("id", "A6");
  seatA6.textContent = "A6";

  const seatA7 = document.createElement("div");
  seatA7.className = "seat seat-A7";
  seatA7.setAttribute("id", "A7");
  seatA7.textContent = "A7";

  // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù‚Ø§Ø¹Ø¯ Ù„Ù„Ø­Ø§ÙˆÙŠØ©
  seatsContainer.appendChild(seatA1);
  seatsContainer.appendChild(seatA2);
  seatsContainer.appendChild(seatA3);
  seatsContainer.appendChild(seatA4);
  seatsContainer.appendChild(seatA5);
  seatsContainer.appendChild(seatA6);
  seatsContainer.appendChild(seatA7);

  hall.appendChild(seatsContainer);

  // Ø¥Ø¶Ø§ÙØ© Firebase listeners Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‚Ø§Ø¹Ø¯
  const seats = [seatA1, seatA2, seatA3, seatA4, seatA5, seatA6, seatA7];
  const seatIds = ["A1", "A2", "A3", "A4", "A5", "A6", "A7"];

  seats.forEach((seat, index) => {
    const seatId = seatIds[index];
    const seatRef = ref(db, "seats/" + seatId);
    
    onValue(seatRef, snapshot => {
      if (snapshot.val() === "booked") {
        seat.classList.add("booked");
      } else {
        seat.classList.remove("booked");
      }
    });
  });
</script>
</body>
</html>